@model List<Librery_MVC.Models.Usser>
@using Librery_MVC.Models;
@using Librery_MVC.Services;

@{
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="DivFiltrarCliente">

    <div class="row">

        <div class="col-md-4">

            <p>Seleccione una opción:</p>

            <div>

                <input type="radio" name="option" id="userName" value="userName" checked /> Buscar por nombre de usuario
                
                <br />
                                  
                <input type="radio" name="option" id="allUsers" value="allUsers" /> Listar todos

            </div>

        </div>

        <div class="form-group col-md-4">
            <input type="text" class="form-control" id="txtData" name="txtData" maxlength="80" required />
        </div>

        <div class="form-group col-md-4">
            <button type="button" class="btn btn-default" onclick="SendToActionListarCliente();"><span class="glyphicon glyphicon-search" id="glyphicon-search" aria-hidden="true"></span>Buscar</button>
        </div>

    </div>


</div>


<br /><br />
<div class="table-responsive" id="ajaxResponse">
    @*<table class="table table-striped table-primary mt-5 border-primary" id="myTable">
        <thead>
            <tr>
                <th></th>
                <th>Apellido</th>
                <th>Nombre</th>
                <th>Email</th>
                <th>Fecha de nacimiento</th>
                <th>Domicilio</th>
            </tr>
        </thead>
        <tbody>
            @foreach (Usser item in Model)
            {
                <tr>
                    <th>@Html.ActionLink("Seguimiento", "SeguimientoCliente", "Usser", new { @class = "btn btn-info" })</th>
                    <th>@item.Surname</th>
                    <th>@item.Name</th>
                    <th>@item.Email</th>
                    <th>@item.dateTime</th>
                    <th>@item.Address</th>
                </tr>
            }
        </tbody>
    </table>*@
</div>

<script type="text/javascript">

    function SendToActionListarCliente(){

         var option = $("input:radio[name='option']:checked").val();
        var search = $('#txtData').val();      
     
           
        //if option = "bookName" info = option, search = bookName o idBook 

        var uri = '@Url.Action("FiltrarCliente", "Home")';

        $.ajax({
            url: uri,
            data: { option: option, search: search},           
            type: 'POST',
            success: function (respuestaDelServidor) {
                $("#ajaxResponse").html(respuestaDelServidor);
            }
        });

    }



</script>


